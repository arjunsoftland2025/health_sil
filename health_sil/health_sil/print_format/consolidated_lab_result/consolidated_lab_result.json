{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-06-17 12:43:47.305129",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Laboratory Bill",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <style>\n        @page {\n            size: A4 portrait;\n            margin: 3mm;\n        }\n        \n        .page-container {\n            font-family: Arial, sans-serif;\n            width: 100%;\n            height: 227mm;\n            page-break-after: always;\n            border: 1px solid #000;\n            padding: 1mm;\n            overflow: hidden;\n            position: relative;\n        }\n        \n        /* DDRC SRL Header Styling */\n        .header-section {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 5px;\n            border: 1px solid black;\n            padding: 0;\n        }\n        \n        .logo-container {\n            width: 50%;\n        }\n        \n        .logo-section {\n            display: flex;\n            flex-direction: column;\n        }\n        \n        .logo-content {\n            display: flex;\n            align-items: center;\n        }\n        \n        .logo-image {\n            width: 250px;\n            text-align: center;\n            padding: 5px 0;\n        }\n        \n        .logo-text {\n            font-size: 24px;\n            font-weight: bold;\n            padding-left: 10px;\n        }\n        \n        .ddrc-text {\n            color: #e73829;\n        }\n        \n        .srl-text {\n            color: #0066b3;\n        }\n        \n        .tagline {\n            font-size: 10px;\n            text-align: center;\n            font-style: italic;\n            background-color: #0066b3;\n            color: white;\n            padding: 2px 0;\n        }\n        \n        .company-info {\n            text-align: right;\n            font-size: 10px;\n            line-height: 1.3;\n            padding-right: 10px;\n            width: 50%;\n        }\n        \n        /* Patient Info Section */\n        .patient-info {\n            display: flex;\n            justify-content: space-between;\n            border: 1px solid black;\n            border-top: none;\n            padding: 5px;\n            font-size: 12px;\n        }\n        \n        .info-item {\n            display: flex;\n            margin-bottom: 5px;\n        }\n        \n        .info-label {\n            font-weight: bold;\n            margin-right: 5px;\n        }\n        \n        .info-value {\n            font-weight: normal;\n            margin-right: 20px;\n        }\n        \n        /* Content area */\n        .content-wrapper {\n            display: flex;\n            flex-direction: column;\n            height: calc(100% - 25px);\n        }\n        \n        /* Test table */\n        .order-details {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 11px;\n            flex: 0 0 auto;\n        }\n        \n        .order-details th, .order-details td {\n            border: 1px solid black;\n            padding: 2px;\n            font-size: 11px;\n            line-height: 1.2;\n        }\n        \n        .header-row th {\n            background-color: #d3d3d3;\n            text-align: center;\n            padding: 5px;\n        }\n        \n        .section-title {\n            text-align: center;\n            font-weight: bold;\n            font-size: 14px;\n            border: 1px solid black;\n            padding: 5px;\n            margin: 10px 0;\n        }\n        \n        .result-value {\n            color: #0066b3;\n            font-weight: bold;\n        }\n        \n        .test-name {\n            font-weight: bold;\n        }\n        \n        .reference-range {\n            font-size: 11px;\n        }\n        \n        /* Footer content */\n        .footer-container {\n            font-size: 11px;\n            margin-top: 2px;\n            flex: 0 0 auto;\n            width: 100%;\n        }\n        \n        .footer-container p {\n            margin: 0;\n            line-height: 1.1;\n        }\n        \n        .address {\n            display: block;\n            width: 100%;\n            word-wrap: break-word;\n            word-break: break-word;\n            overflow: hidden;\n            white-space: normal;\n        }\n        \n        .address span {\n            display: inline-block;\n            max-width: 100%;\n        }\n        \n        .refund-policy {\n            margin: 0;\n            line-height: 1.2;\n        }\n        \n        /* Footer Styling */\n        .footer-wrapper {\n            margin-top: 30px;\n            border-top: 2px solid black;\n            padding-top: 10px;\n            width: 100%;\n            font-family: Arial, sans-serif;\n            font-size: 10px;\n        }\n        \n        .footer-container {\n            display: flex;\n            justify-content: space-between;\n        }\n        \n        .footer-column {\n            width: 32%;\n        }\n        \n        .cert-section {\n            display: flex;\n            align-items: center;\n            margin-bottom: 5px;\n        }\n        \n        .cert-logo {\n            margin-right: 5px;\n        }\n        \n        .cert-text {\n            font-weight: bold;\n            font-size: 9px;\n        }\n        \n        .contact-info {\n            line-height: 1.4;\n        }\n        \n        .contact-item {\n            display: flex;\n            align-items: center;\n        }\n        \n        .contact-icon {\n            margin-right: 5px;\n            font-style: normal;\n        }\n        \n        .disclaimer {\n            border: 1px solid #ccc;\n            padding: 5px;\n            background-color: #f9f9f9;\n            margin-bottom: 5px;\n        }\n        \n        .disclaimer-title {\n            font-weight: bold;\n            text-align: center;\n            margin-bottom: 3px;\n            color: #e73829;\n        }\n        \n        .disclaimer p, .refund-policy p {\n            margin: 0;\n            line-height: 1.3;\n            font-size: 8px;\n            text-align: justify;\n        }\n        \n        .signatures {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 10px;\n        }\n        \n        .signature-box {\n            text-align: center;\n            width: 45%;\n        }\n        \n        .signature-line {\n            border-bottom: 1px solid #000;\n            margin-bottom: 3px;\n            height: 25px;\n        }\n        \n        .signature-name {\n            font-size: 9px;\n            font-weight: bold;\n        }\n        \n        .report-id {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-top: 15px;\n            font-size: 9px;\n        }\n        \n        .footer-bottom {\n            margin-top: 10px;\n            padding-top: 5px;\n            border-top: 1px solid #ccc;\n            display: flex;\n            justify-content: space-between;\n            font-size: 8px;\n        }\n        \n        .accreditations {\n            color: #0066b3;\n            font-weight: bold;\n        }\n        \n        .page-info {\n            font-style: italic;\n        }\n        \n        footer {\n            position: fixed;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            background-color: #f8f8f8;\n            border-top: 1px solid black;\n            padding: 10px;\n            font-size: 10px;\n            font-family: Arial, sans-serif;\n        }\n        \n        footer .footer-wrapper {\n            display: flex;\n            justify-content: space-between;\n            font-size: 10px;\n        }\n        \n        footer .footer-column {\n            width: 32%;\n        }\n        \n        footer .footer-bottom {\n            margin-top: 10px;\n            padding-top: 5px;\n            border-top: 1px solid #ccc;\n            display: flex;\n            justify-content: space-between;\n            font-size: 8px;\n        }\n        \n        footer .accreditations {\n            color: #0066b3;\n            font-weight: bold;\n        }\n        \n        footer .page-info {\n            font-style: italic;\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"page-container\">\n        <!-- DDRC SRL Header -->\n        <div class=\"header-section\">\n            <div class=\"logo-container\">\n                <div class=\"logo-section\">\n                    <div class=\"logo-content\">\n                        <div class=\"logo-image\">\n                            <img src=\"/assets/health_sil/images/final_logo_4.png\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"company-info\">\n                Opposite Azad Bread Factory,<br>\n                Pandits Colony Extension,<br>\n                Kowdiar, Thiruvananthapuram, Kerala 695003<br>\n                <b>Mail: drrasheeds@gmail.com</b>\n            </div>\n        </div>\n\n        <!-- Patient Information -->\n        <div class=\"patient-info\">\n            <div>\n                <div class=\"info-item\">\n                    <div class=\"info-label\">Name :\n                    <span class=\"info-value\">{% set patient_doc = frappe.get_doc(\"Patient\", doc.patient_name) %}\n                    {{ patient_doc.patient_name }}</span></div>\n                </div>\n                <div class=\"info-item\">\n                    <div class=\"info-label\">Mobile :</div>\n                    <div class=\"info-value\">{{ patient_doc.mobile if patient_doc.mobile else '' }}</div>\n                </div>\n                <div class=\"info-item\">\n                    <div class=\"info-label\">Age/Sex :\n                    <span class=\"info-value\">{{ patient_doc.age.years if patient_doc.age else '' }} / {{ patient_doc.sex }}</span></div>\n                </div>\n            </div>\n            <div>\n                <div class=\"info-item\">\n                    <div class=\"info-label\">Doctor :\n                    <span class=\"info-value\">{% if doc.healthcare_practitioner %}\n                    {% set doctor_doc = frappe.get_doc(\"Healthcare Practitioner\", doc.healthcare_practitioner) %}\n                    {{ doctor_doc.practitioner_name }}\n                    {% endif %}</span></div>\n                </div>\n                <div class=\"info-item\">\n                    <div class=\"info-label\">Department :\n                    <span class=\"info-value\">{% if doc.healthcare_practitioner %}\n                    {% set doctor_doc = frappe.get_doc(\"Healthcare Practitioner\", doc.healthcare_practitioner) %}\n                    {{ doctor_doc.department }}\n                    {% endif %}</span></div>\n                </div>\n                <div class=\"info-item\">\n                    <div class=\"info-label\">Report On :\n                    <span class=\"info-value\">{{ frappe.format_date(doc.date_and_time, \"dd-MM-yyyy\") if doc.date_and_time else frappe.format_date(doc.creation, \"dd-MM-yyyy\") }}</span></div>\n                </div>\n            </div>\n            <div>\n                <div class=\"info-item\">\n                    <div class=\"info-label\">UID No. :</div>\n                    <div class=\"info-value\">{{ patient_doc.uid if patient_doc.uid else '' }}</div>\n                </div>\n                <div class=\"info-item\">\n                    <div class=\"info-label\">Bill Ref. :</div>\n                    <div class=\"info-value\">{{ doc.name }}</div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"content-wrapper\">\n            <!-- Department Header -->\n            <div class=\"section-title\">CONSOLIDATED LABORATORY REPORT</div>\n            \n            <!-- Main Table Header -->\n            <table class=\"order-details\">\n                <tr>\n                    <th width=\"5%\">SN</th>\n                    <th width=\"40%\">Test Description</th>\n                    <th width=\"15%\">Value Observed</th>\n                    <th width=\"10%\">Unit</th>\n                    <th width=\"30%\">Reference Range</th>\n                </tr>\n            </table>\n\n            <!-- Consolidated Test Results -->\n            <table class=\"order-details\">\n                {% set lab_tests = frappe.get_all(\"Lab Test\", filters={\"custom_laboratory_bill\": doc.name, \"docstatus\": 1}, fields=[\"name\"]) %}\n                {% set all_results = [] %}\n                {% for lab_test in lab_tests %}\n                    {% set lab_test_doc = frappe.get_doc(\"Lab Test\", lab_test.name) %}\n                    {% for result in lab_test_doc.normal_test_items %}\n                        {% set result_data = {\n                            \"lab_test_name\": result.lab_test_name,\n                            \"result_value\": result.result_value,\n                            \"lab_test_uom\": result.lab_test_uom,\n                            \"normal_range\": result.normal_range,\n                            \"lab_test_ref\": lab_test_doc.name\n                        } %}\n                        {% set _ = all_results.append(result_data) %}\n                    {% endfor %}\n                {% endfor %}\n                \n                {% for result in all_results %}\n                <tr class=\"product-row\">\n                    <td width=\"5%\" style=\"text-align: center;\">{{ loop.index }}</td>\n                    <td width=\"40%\" class=\"test-name\">{{ result.lab_test_name }}</td>\n                    <td width=\"15%\" class=\"result-value\" style=\"text-align: center;\">{{ result.result_value }}</td>\n                    <td width=\"10%\" style=\"text-align: center;\">{{ result.lab_test_uom }}</td>\n                    <td width=\"30%\" class=\"reference-range\">{{ result.normal_range.replace('\\n', '<br>') | safe if result.normal_range else '' }}</td>\n                </tr>\n                {% endfor %}\n                \n                <!-- Show message if no results found -->\n                {% if not all_results %}\n                <tr class=\"product-row\">\n                    <td colspan=\"5\" style=\"text-align: center; font-style: italic; color: #666;\">\n                        No submitted lab test results found for this bill.\n                    </td>\n                </tr>\n                {% endif %}\n            </table>\n\n            <!-- Lab Test Reference Numbers -->\n            {% if lab_tests %}\n            <div style=\"margin-top: 10px; font-size: 10px; color: #666;\">\n                <strong>Lab Test References:</strong>\n                {% for lab_test in lab_tests %}\n                    {{ lab_test.name }}{% if not loop.last %}, {% endif %}\n                {% endfor %}\n            </div>\n            {% endif %}\n        </div>\n\n        <footer>\n            <div class=\"footer-wrapper\">\n                <div class=\"footer-column left-column\">\n                    <div class=\"contact-info\">\n                        <div class=\"contact-item\">\n                            <i class=\"contact-icon\">\ud83d\udcde</i> \n                            <span>0471 257 5888</span>\n                        </div>\n                        <div class=\"contact-item\">\n                            <i class=\"contact-icon\">\u2709\ufe0f</i> \n                            <span>drrasheeds@gmail.com</span>\n                        </div>\n                        <div class=\"contact-item\">\n                            <i class=\"contact-icon\">\ud83c\udf10</i> \n                            <span>www.drrasheeds.com</span>\n                        </div>\n                    </div>\n                </div>\n    \n                <div class=\"footer-column center-column\">\n                    <div class=\"disclaimer\">\n                        <div class=\"disclaimer-title\">IMPORTANT NOTICE</div>\n                        <p>This consolidated report is electronically verified and does not require physical signature. Results relate only to the samples tested. This report shall not be reproduced except in full, without written approval of the laboratory.</p>\n                    </div>\n                    <div class=\"refund-policy\">\n                        <p>You will be notified when test results are published. Laboratory fees are non-refundable as per our policy.</p>\n                    </div>\n                </div>\n    \n                <div class=\"footer-column right-column\">\n                    <div class=\"signatures\">\n                        <div class=\"signature-box\">\n                            <div class=\"signature-line\"></div>\n                            <div class=\"signature-name\">Lab Technician</div>\n                        </div>\n                        <div class=\"signature-box\">\n                            <div class=\"signature-line\"></div>\n                            <div class=\"signature-name\">Medical Director</div>\n                        </div>\n                    </div>\n                    <div class=\"report-id\">\n                        <span>Consolidated Report - Bill ID: {{ doc.name }}</span>\n                    </div>\n                </div>\n            </div>\n    \n            <div class=\"footer-bottom\">\n                <div class=\"page-info\">\n                    Generated on {{ frappe.format_date(frappe.utils.now(), \"dd-MM-yyyy\") }}\n                </div>\n            </div>\n        </footer>\n    </div>\n\n</body>\n</html>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-06-17 12:43:47.305129",
 "modified_by": "Administrator",
 "module": "Health Sil",
 "name": "Consolidated Lab Result",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}